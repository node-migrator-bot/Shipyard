<!DOCTYPE html>  <html>   <head>    <title>Shipyard JS: observable</title>    <link rel="stylesheet" type="text/css" href="/Shipyard/style.css">   </head>   <body>    <header>     <div>      <h1><a href="/Shipyard">Shipyard</a></h1>      <p>A modular JavaScript MVC framework</p>     </div>    </header>    <div id="container">     <article id="main">      <h1>Class: Observable<a class="permalink" id="Observable" href="#Observable" title="Permalink to 'Class: Observable'">#</a></h1>
<p>A class with a get/set interface that makes it easy to manipulate data
on an object allowing others to observe all or only specific changes.

</p>
<h3>Extends</h3>
<p><a href="./events.html#EventEmitter">EventEmitter</a>

</p>
<h2>Method: set<a class="permalink" id="Observable:set" href="#Observable:set" title="Permalink to 'Method: set'">#</a></h2>
<p>Set a property that will trigger a change event if the value is
different.

</p>
<h3>Syntax</h3>
<pre><code>observable.set(property, value);
observable.set(properties);</code></pre>
<h3>Arguments</h3>
<ul>
<li>Two arguments (property, value)<ul>
<li>property - (<em>string</em>) A key corresponding to the same name of one
of the model's <code>fields</code>.</li>
<li>value - (<em>mixed</em>) The value to set for the speific field.</li>
</ul>
</li>
<li>One argument (properties)<ul>
<li>properties - (<em>object</em>) An object of key-value pairs that work
like calling <code>set</code> with each pair individually as the two-argument
path.</li>
</ul>
</li>
</ul>
<h3>Returns</h3>
<ul>
<li>(object) This Observable instance.</li>
</ul>
<h2>Method: get<a class="permalink" id="Observable:get" href="#Observable:get" title="Permalink to 'Method: get'">#</a></h2>
<p>Retrieve a value from the object. This allows computed properties to
work seemlessly.

</p>
<h3>Syntax</h3>
<pre><code><span class="keyword">var</span> value = observable.get(keyOrKeys);</code></pre>
<h3>Arguments</h3>
<ul>
<li>keyOrKeys - (<em>string or array</em>) A string or array of strings of
properties to return the value of.</li>
</ul>
<h3>Returns</h3>
<ul>
<li>(<em>string or array</em>) The value of the property requested, or an array of the values
if an array was passed as an argument.</li>
</ul>
<h2>Method: observe<a class="permalink" id="Observable:observe" href="#Observable:observe" title="Permalink to 'Method: observe'">#</a></h2>
<p>Specify a function that should be called when the observed property
changes. A shortcut for listening to change events for only a specific
property.

</p>
<h3>Syntax</h3>
<pre><code>observable.observe(property, callback);</code></pre>
<h3>Arguments</h3>
<ul>
<li>property - (<em>string</em>) The property name to observe.</li>
<li>callback - (<em>function</em>) The function to execute when the property
changes. It will be passed as arguments the new value, and the old
value: <code>function (newVal, oldVal) {}</code></li>
</ul>
<h2>Mutator: onEvent<a class="permalink" id="Observable:onEvent" href="#Observable:onEvent" title="Permalink to 'Mutator: onEvent'">#</a></h2>
<p>Any property matching the regular expression <code>/^on[A-Z]/</code> (such as
onClick) will become a default handler for every instance of the class.

</p>
<p>It can also be used at instantiation for a single instance.

</p>
<h3>Example</h3>
<pre><code><span class="keyword">var</span> Foo = <span class="keyword">new</span> <span class="keyword">Class</span>({
    <span class="keyword">Extends</span>: Observable,
    onFoo: <span class="keyword">function</span>() {
        console.log(<span class="string">'bar!'</span>);
    }
});

<span class="keyword">var</span> f = <span class="keyword">new</span> Foo({
    onBar: <span class="keyword">function</span>() {
        console.log(<span class="string">'baz'</span>);
    }
});

f.emit(<span class="string">'foo'</span>); <span class="comment">// logged "bar!"</span>
f.emit(<span class="string">'bar'</span>); <span class="comment">// logged "baz"</span></code></pre>
<h2>Static Method: property<a class="permalink" id="Observable:property" href="#Observable:property" title="Permalink to 'Static Method: property'">#</a></h2>
<p>A helper to declare computed properties and the properties they depend
on.

</p>
<h3>Syntax</h3>
<pre><code><span class="keyword">var</span> computedProp = property(fn, keys...);</code></pre>
<h3>Arguments</h3>
<ul>
<li>fn - (<em>function</em>) The function to execute when being <code>set</code> or <code>get</code>.</li>
<li>keys - (<em>strings</em>) A string of each property that this one depends on.</li>
</ul>
<h3>Example</h3>
<pre><code><span class="keyword">var</span> Person = <span class="keyword">new</span> <span class="keyword">Class</span>({
    <span class="keyword">Extends</span>: Observable,
    firstName: <span class="string">'John'</span>,
    lastName: <span class="string">'Doe'</span>,
    fullName: Observable.property(<span class="keyword">function</span>(name) {
        <span class="keyword">if</span> (arguments.length === <span class="number">0</span>) {
            <span class="comment">// getter</span>
            <span class="keyword">return</span> <span class="keyword">this</span>.get(<span class="string">'firstName'</span>) + <span class="string">' '</span> + <span class="keyword">this</span>.get(<span class="string">'lastName'</span>);
        } <span class="keyword">else</span> {
            <span class="comment">// setter</span>
            <span class="keyword">var</span> split = name.split(<span class="string">' '</span>);
            <span class="keyword">this</span>.set({
                <span class="string">'firstName'</span>: split[<span class="number">0</span>],
                <span class="string">'lastName'</span>: split[<span class="number">1</span>]
            });
        }
    }, <span class="string">'firstName'</span>, <span class="string">'lastName'</span>)
});</code></pre>
     </article>     <aside id="nav">      <p><em>v0.2.0</em></p>      <nav>       <ul>        <li>         Topics         <ul>                    <li><a href="/Shipyard/topics/tutorial.html" >tutorial</a></li>                    <li><a href="/Shipyard/topics/installation.html" >installation</a></li>                    <li><a href="/Shipyard/topics/dom.html" >dom</a></li>                    <li><a href="/Shipyard/topics/models.html" >models</a></li>                    <li><a href="/Shipyard/topics/modules.html" >modules</a></li>                    <li><a href="/Shipyard/topics/testing.html" >testing</a></li>                    <li><a href="/Shipyard/topics/views-and-binding.html" >views and binding</a></li>                   </ul>        </li>        <li>         API Reference         <ul>                    <li><a href="/Shipyard/api/class.html" >class</a></li>                    <li><a href="/Shipyard/api/events.html" >events</a></li>                    <li><a href="/Shipyard/api/fields.html" >fields</a></li>                    <li><a href="/Shipyard/api/logging.html" >logging</a></li>                    <li><a href="/Shipyard/api/model.html" >model</a></li>                    <li><a href="/Shipyard/api/observable-array.html" >observable array</a></li>                    <li><a href="/Shipyard/api/observable.html" class="active">observable</a></li>                    <li><a href="/Shipyard/api/shipyard-cli.html" >shipyard cli</a></li>                    <li><a href="/Shipyard/api/sync.html" >sync</a></li>                    <li><a href="/Shipyard/api/utils.html" >utils</a></li>                    <li><a href="/Shipyard/api/view.html" >view</a></li>                   </ul>        </li>       </ul>      </nav>     </aside>     <footer>&copy; 2012 <a href="http://seanmonstar.com">Sean McArthur</a>. Source available on <a href="https://github.com/seanmonstar/Shipyard">GitHub</a>.</footer>    </div>   </body>  </html>  